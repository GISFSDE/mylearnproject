<!DOCTYPE html>
<!--http://localhost:8080/BaiduiMap.html启动项目后直接访问
http://lbsyun.baidu.com/jsdemo.htm#aCreateMap api文档查看-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--    以便使您的页面更好的在移动平台上展示-->
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <style type="text/css">
        html {
            height: 100%
        }

        body {
            height: 100%;
            margin: 0px;
            padding: 0px
        }

        #container {
            height: 100%
        }
    </style>
    <script type="text/javascript"
            src="https://api.map.baidu.com/api?v=1.0&&type=webgl&ak=nm4AqUKuGINxp0Lw1dZBUyNpAEAokLVd"></script>
</head>
<body>
<!--地图需要一个HTML元素作为容器，这样才能展现到页面上。这里我们创建了一个div元素。-->
<div id="container"></div>
<script type="application/javascript">
    // // <!--位于BMapGL命名空间下的Map类表示地图，通过new操作符可以创建一个地图实例。其参数可以是元素id也可以是元素对象。-->
    // var map = new BMapGL.Map("container");
    // // 设置中心点坐标
    // var point = new BMapGL.Point(116.404, 39.915);
    // // 地图初始化，同时设置地图展示级别
    // map.centerAndZoom(point, 15);
    // //    开启鼠标滚轮缩放
    // map.enableScrollWheelZoom(true);
    // //    地图标记点
    // var marker = new BMapGL.Marker(point);
    // map.addOverlay(marker);
    //    添加事件
    //标记点单击
    // marker.addEventListener("click", function () {
    //     alert("您点击了标记点！")
    // });
    //地图点击事件
    // map.addEventListener("click", function (e) {
    //     alert("您点击了地图" + e.latlng.lng + "--" + e.latlng.lat + "位置");
    // });
    //信息框

    // map.addEventListener("click", function (e) {
    //     var opts = {
    //         width: 250,     // 信息窗口宽度
    //         height: 100,    // 信息窗口高度
    //         title: "Hello"  // 信息窗口标题
    //     }
    //     var info = "您点击了地图" + e.latlng.lng + "--" + e.latlng.lat;
    //     var infoWindow = new BMapGL.InfoWindow(info, opts);  // 创建信息窗口对象
    //     map.openInfoWindow(infoWindow, new BMapGL.Point(e.latlng.lng, e.latlng.lat));
    // });

//    综合案例
//     一，点击加单标记
//         map.addEventListener("click",function (e) {
//             point=new BMapGL.Point(e.latlng.lng,e.latlng.lat);
//             var marker = new BMapGL.Marker(point);
//             map.clearOverlays();
//             map.addOverlay(marker);
//             var opts={
//                 width: 250,     // 信息窗口宽度
//                 height: 100,    // 信息窗口高度
//                 title: "Hello"  // 信息窗口标题
//             }
//             var info = "您点击了地图" + e.latlng.lng + "--" + e.latlng.lat;
//             var infoWindow = new BMapGL.InfoWindow(info, opts);  // 创建信息窗口对象
//             map.openInfoWindow(infoWindow, point);//打开信息窗口
//         });

        //二，显示公司地址简介（找到位置，禁止拖拽，打开有公司信息）
    // var map=new BMapGL.Map("container");
    // var point=new BMapGL.Point(120.10784900531651,30.33892818744006);
    // map.centerAndZoom(point,15);
    // map.disableDragging();
    // map.enableScrollWheelZoom(true);
    // var opts={
    //                 width: 250,     // 信息窗口宽度
    //                 height: 200,    // 信息窗口高度
    //                 title: "魑魅先生"  // 信息窗口标题
    //             }
    // var content="<h4 style='margin: 0 0 5px 0;padding: 0.2em 0'>魑魅先生</h4>"+
    //         "<img style='float: right;margin: 4px' id='imgDemo' src='./img/chimei.jpg' width= '139' height='139' title='魑魅先生'/>"+
    //         "<a href='ww.baidu.com'>魑魅先生，目前是一只励志成为魑魅大能的奋斗小鬼，扫码关注我吧！</a>"//图片路径  .  代表static
    // var infoWindow = new BMapGL.InfoWindow(content, opts);  // 创建信息窗口对象
    // map.openInfoWindow(infoWindow, point);//打开信息窗口
//三，路径规划
    var map=new BMapGL.Map("container");
    var point=new BMapGL.Point(120.10784900531651,30.33892818744006);
    map.centerAndZoom(point,15);
    map.enableScrollWheelZoom(true);
    map.addEventListener("click",function (e) {
       var p2=new BMapGL.Point(e.latlng.lng,e.latlng.lat);
       var marker=new BMapGL.Marker(p2);
       map.clearOverlays();
       map.addOverlay(marker);
       var driving=new BMapGL.DrivingRoute(map,{renderOptions:{map:map,autoViewport:true}});
       driving.search(p2,point);
    });
//    ip定位（后台开发）

</script>
</body>
</html>